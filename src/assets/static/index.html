<!doctype html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

</head>

<body>
    <div class="container" id="app">
        <!-- Nav tabs -->
        <div class="nav nav-tabs">
            <a class="nav-link active" data-toggle="tab" href="#About">About</a>
            <a v-for="(item,index) in settings" class="nav-link" data-toggle="tab" :href="'#knob'+index">Knob {{ index + 1 }}</a>
        </div>


        <!--Tab panes-->
        <div class="tab-content">
            <div id="About" class="tab-pane active">
                This is an about page, this is a WIP-and our first application written in golang and vue.js
            </div>

            <div v-for="(item,index) in settings" :id="'knob'+index" class="tab-pane fade>">
                <div class="form-group col-sm-6">
                    <label for="knobselect">Knob  function:</label>
                    <select class="form-control" id="knobselect" v-model="choice">
                        <option v-for="operation in rotationFunc">
                            {{ operation }}
                        </option>
                    </select>
                    <div v-show="choice != 'Applicationvolume'">
                        <label :for="'applist'+index">App list</label>
                        <input type="text" :id="'applist'+index" class="form-control">
                    </div>
                    <label for="buttonselect">Button function:</label>
                    <select class="form-control" id="buttonselect">
                        <option v-for="item in buttonFunc">
                            {{ item }}
                        </option>
                    </select>
                </div>
            </div>
        </div>



        <button class="btn btn-success" type="button">Save</button>
        <button class="btn btn-warning" type="button">Apply</button>
        <button class="btn btn-danger" type="button" onclick="">Cancel</button>
    </div>
</body>

<script>
        var app = new Vue({
            el:'#app',
            data:{
                settings: [],
                rotationFunc: ["Systemvolume","Applicationvolume"],
                buttonFunc: ["System mute", "Application mute"]

            },
            mounted() {
                var self = this;
                $.getJSON('./settings', function(data){
                    self.settings = data['Settings'];
                });
            }
        });
        
        </script>
</html>